<div class="container mt-4">
  <h2 class="text-center">{{ pessoaId ? 'Editar Pessoa' : 'Cadastrar Pessoa' }}</h2>

  <form [formGroup]="pessoaForm" (ngSubmit)="salvarPessoa()" class="mt-3">
    <div class="mb-3">
      <label for="nome" class="form-label">Nome</label>
      <input id="nome" type="text" class="form-control" formControlName="nome">
      <div *ngIf="pessoaForm.get('nome')?.invalid && pessoaForm.get('nome')?.touched" class="text-danger">
        O nome é obrigatório e deve ter pelo menos 3 caracteres.
      </div>
    </div>

    <div class="mb-3">
      <label for="cep" class="form-label">CEP</label>
      <input id="cep" type="text" class="form-control" formControlName="cep" (blur)="buscarCep()">
      <div *ngIf="pessoaForm.get('cep')?.invalid && pessoaForm.get('cep')?.touched" class="text-danger">
        O CEP é obrigatório.
      </div>
    </div>


    <div class="mb-3">
      <label for="endereco" class="form-label">Endereço</label>
      <input id="endereco" type="text" class="form-control" formControlName="endereco">
    </div>

    <div class="mb-3">
      <label for="cidade" class="form-label">Cidade</label>
      <input id="cidade" type="text" class="form-control" formControlName="cidade">
    </div>

    <div class="mb-3">
      <label for="uf" class="form-label">UF</label>
      <input id="uf" type="text" class="form-control" formControlName="uf">
    </div>

    <div class="mb-3 form-check">
      <input type="checkbox" id="ativo" class="form-check-input" formControlName="ativo">
      <label for="ativo" class="form-check-label">Ativo</label>
    </div>

    <button type="submit" class="btn btn-success" [disabled]="pessoaForm.invalid">
      {{ pessoaId ? 'Atualizar' : 'Cadastrar' }}
    </button>
    <a class="btn btn-secondary ms-2" routerLink="/">Cancelar</a>
  </form>
</div>
